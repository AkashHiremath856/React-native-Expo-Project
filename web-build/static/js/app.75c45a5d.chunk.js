(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{252:function(e,t,a){"use strict";a.d(t,"a",(function(){return ae}));var n=a(151),r=(a(338),a(0)),o=a.n(r),i=a(1),c=a(189),l=a(16),s=a.n(l),u=a(3),m=a(36),d=a(97),f=a(32),g=a(64),h=(a(341),a(328),(0===g.a.apps.length?g.a.initializeApp({apiKey:"AIzaSyA1-dSGMDiD8KMPdYQ348APxsa99ncO5rw",authDomain:"signal-clone-140cd.firebaseapp.com",projectId:"signal-clone-140cd",storageBucket:"signal-clone-140cd.appspot.com",messagingSenderId:"999051839514",appId:"1:999051839514:web:c800c2827e0f725386e9a3"}):g.a.app()).firestore()),p=g.a.auth(),E=function(e){var t=e.navigation,a=Object(r.useState)(""),n=s()(a,2),i=n[0],c=n[1],l=Object(r.useState)(""),g=s()(l,2),h=g[0],E=g[1];Object(r.useEffect)((function(){return t.setOptions({headerTitleStyle:{alignSelf:"center"}}),p.onAuthStateChanged((function(e){e&&t.replace("Home")}))}),[]);var b=function(){p.signInWithEmailAndPassword(i,h).catch((function(e){return alert(e)}))};return o.a.createElement(d.a,{style:y.container},o.a.createElement(m.a,{style:"light"}),o.a.createElement(f.c,{source:{uri:"https://img.icons8.com/color/720/000000/signal-app.png"},style:{width:200,height:200}}),o.a.createElement(u.a,{style:y.inputContainer},o.a.createElement(f.d,{placeholder:"Email",autoFocus:!0,type:"email",value:i,onChangeText:function(e){return c(e)}}),o.a.createElement(f.d,{placeholder:"Password",secureTextEntry:!0,type:"password",value:h,onChangeText:function(e){return E(e)},onSubmitEditing:b})),o.a.createElement(f.b,{containerStyle:y.button,onPress:b,title:"Login"}),o.a.createElement(f.b,{containerStyle:y.button,type:"outline",title:"Sign up",onPress:function(){return t.navigate("Register")}}),o.a.createElement(u.a,{style:{height:100}}))},y=i.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:10,backgroundColor:"white"},inputContainer:{width:300},button:{width:200,marginTop:10}}),b=a(356),v=a(17),w=a.n(v),x=(a(330),a(157)),C=a(223),S=a(25),T=function(e){var t=e.navigation,a=Object(r.useState)(""),i=s()(a,2),c=i[0],l=i[1],m=Object(r.useState)(""),g=s()(m,2),h=g[0],E=g[1],y=Object(r.useState)(""),b=s()(y,2),v=b[0],T=b[1],k=Object(r.useState)(""),L=s()(k,2),j=(L[0],L[1],o.a.useState(null)),P=s()(j,2),R=P[0],U=P[1];Object(r.useLayoutEffect)((function(){t.setOptions({headerBackTitle:"Back to Login"})}),[t]);return o.a.createElement(d.a,{behavior:"padding",style:O.container},o.a.createElement(n.a,{style:"light"}),o.a.createElement(f.f,{h3:!0,style:{marginBottom:50}},"Create a Signal account"),o.a.createElement(u.a,{style:O.inputcontainer},o.a.createElement(f.d,{placeholder:"Full Name",autofocus:!0,type:"text",value:c,onChangeText:function(e){return l(e)}}),o.a.createElement(f.d,{placeholder:"Email",type:"email",value:h,onChangeText:function(e){return E(e)}}),o.a.createElement(f.d,{placeholder:"Password",type:"password",secureTextEntry:!0,value:v,onChangeText:function(e){return T(e)}})),o.a.createElement(u.a,{style:{flexDirection:"row"}},o.a.createElement(S.a,{onPress:function(){var e;return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.awrap(x.b());case 2:if(!1!==t.sent.granted){t.next=6;break}return alert("Permission to access camera roll is required!"),t.abrupt("return");case 6:return t.next=8,w.a.awrap(x.a());case 8:if(!0!==(e=t.sent).cancelled){t.next=11;break}return t.abrupt("return");case 11:U({localUri:e.uri});case 12:case"end":return t.stop()}}),null,null,null,Promise)},activeOpacity:"0.5"},o.a.createElement(C.a,{name:"camera",style:O.cam,size:40})),o.a.createElement(f.f,{style:O.txt},"Select Profile")),o.a.createElement(u.a,{style:{marginTop:10}}),o.a.createElement(f.b,{raised:!0,onPress:function(){p.createUserWithEmailAndPassword(h,v).then((function(e){e.user.updateProfile({displayName:c,photoURL:R.localUri||"https://img.icons8.com/material/96/000000/user-male-circle--v1.png"})})).catch((function(e){return alert(e.message)}))},title:"Register",style:O.button}))},O=i.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:10,backgroundColor:"white"},button:{width:200,marginTop:40},inputcontainer:{width:300},cam:{alignItems:"center"},txt:{alignItems:"center",marginTop:10,marginLeft:7}}),k=a(83),L=a(80),j=a(46),P=function(e){var t,a,n,i=e.id,c=e.chatName,l=e.enterChat,u=Object(r.useState)([]),m=s()(u,2),d=m[0],g=m[1];return Object(r.useEffect)((function(){return h.collection("chats").doc(i).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return g(e.docs.map((function(e){return e.data()})))}))}),[]),o.a.createElement(f.e,{onPress:function(){return l(i,c)},key:i,bottomDivider:!0},o.a.createElement(f.a,{rounded:!0,source:{uri:(null==d||null==(t=d[0])?void 0:t.photoURL)||"https://img.icons8.com/ios-filled/100/000000/name.png"}}),o.a.createElement(f.e.Content,null,o.a.createElement(f.e.Title,{style:{fontWeight:"800"}},c),o.a.createElement(f.e.Subtitle,{style:{fontStyle:"italic"},numberOfLines:1,ellipsizeMode:"tail"},null==d||null==(a=d[0])?void 0:a.displayName," :",null==d||null==(n=d[0])?void 0:n.message)))},R=(i.a.create({}),a(242)),U=a(237),I=a(253),N=function(e){var t=e.navigation,a=Object(r.useState)([]),n=s()(a,2),i=n[0],c=n[1],l=g.a.auth().currentUser;k.a.showWithGravity("Welcome Back!",k.a.SHORT,k.a.CENTER),Object(r.useEffect)((function(){return h.collection("chats").onSnapshot((function(e){return c(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]);var m=function(){t.replace("profile")};Object(r.useLayoutEffect)((function(){t.setOptions({headerTitle:"ChatOn",headerStyle:{backgroundColor:"#5142f5"},headerTitleStyle:{color:"white",alignSelf:"center"},headerTintColor:"white",headerLeft:function(){return o.a.createElement(u.a,{style:{marginLeft:20}},o.a.createElement(S.a,{onPress:m,activeOpacity:.5},o.a.createElement(f.a,{rounded:!0,source:{uri:l.photoURL}})))},headerRight:function(){return o.a.createElement(u.a,{style:{flexDirection:"row",justifyContent:"space-between",width:80,marginRight:20}},o.a.createElement(S.a,{activeOpacity:.5},o.a.createElement(R.a,{name:"camerao",size:24,color:"white"})),o.a.createElement(S.a,{onPress:function(){return t.navigate("AddChat")}},o.a.createElement(U.a,{name:"pencil",size:24,color:"white"})))}})}),[]);var d=function(e,a){t.navigate("Chat",{id:e,chatName:a})};return o.a.createElement(L.a,null,o.a.createElement(I.a,{colors:["#833ab4","#fd1d1d","#fcb045"],style:A.button},o.a.createElement(j.a,{style:{height:"100%"}},i.map((function(e){var t=e.id,a=e.data.chatName;return o.a.createElement(P,{key:t,id:t,chatName:a,enterChat:d})})))))},A=i.a.create({}),B=a(150),z=function(e){var t=e.navigation,a=Object(r.useState)(""),n=s()(a,2),i=n[0],c=n[1];Object(r.useLayoutEffect)((function(){t.setOptions({title:"Add a new Chat",headerBackTitle:"Chats"})}),[t]);var l=function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(h.collection("chats").add({chatName:i}).then((function(){return t.goBack()})).catch((function(e){return alert(e)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)};return o.a.createElement(u.a,{style:D.container},o.a.createElement(f.d,{placeholder:"Enter a chat name",value:i,onChangeText:function(e){return c(e)},onSubmitEditing:l,leftIcon:o.a.createElement(B.default,{name:"wechat",size:24,color:"black"})}),o.a.createElement(f.b,{onPress:l,title:"Create new Chat"}))},D=i.a.create({container:{backgroundColor:"white",padding:30,height:"100%"}}),W=a(232),M=a(58),_=a(6),G=a(69),F=a(79),H=a(95),V=a(249),J=a(23),K=a(96),q=function(e){var t=e.navigation,a=e.route,n=Object(r.useState)(""),i=s()(n,2),c=i[0],l=i[1],f=Object(r.useState)([]),E=s()(f,2),y=E[0],b=E[1];Object(r.useLayoutEffect)((function(){}),[t]),Object(r.useLayoutEffect)((function(){return h.collection("chats").doc(a.params.id).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return b(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[a]);var v=function(){G.a.dismiss(),h.collection("chats").doc(a.params.id).collection("messages").add({timestamp:g.a.firestore.FieldValue.serverTimestamp(),message:c,displayName:p.currentUser.displayName,email:p.currentUser.email,photoURL:p.currentUser.photoURL}),l("")},w=function(){V.a.openURL("tel:91")};Object(r.useLayoutEffect)((function(){t.setOptions({title:"Chat",headerBackTitleVisible:!1,headerTitleAlign:"left",headerTitle:function(){var e;return o.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(K.a,{rounded:!0,source:{uri:(null==(e=y[y.length-1])?void 0:e.data.photoURL)||"https://img.icons8.com/color/720/000000/signal-app.png"}}),o.a.createElement(J.a,{style:{color:"white",marginLeft:10,fontWeight:"700"}},a.params.chatName))},headerLeft:function(){return o.a.createElement(S.a,{style:{marginLeft:10},onPress:t.goBack},o.a.createElement(R.a,{name:"arrowleft",size:24,color:"white"}))},headerRight:function(){return o.a.createElement(u.a,{style:{flexDirection:"row",justifyContent:"space-between",width:80,marginRight:20}},o.a.createElement(S.a,null,o.a.createElement(W.a,{name:"video-camera",size:24,color:"white"})),o.a.createElement(S.a,null,o.a.createElement(C.a,{name:"call",size:24,color:"white",onPress:w})))}})}));return o.a.createElement(L.a,{style:{flex:1}},o.a.createElement(H.a,{source:{uri:"https://99designs-blog.imgix.net/blog/wp-content/uploads/2018/12/Gradient_builder_2.jpg"},style:Q.image},o.a.createElement(m.a,{style:"light"}),o.a.createElement(d.a,{behavior:"android"==_.a.OS?"padding":"height",style:Q.container,keyboardVerticalOffset:90},o.a.createElement(F.a,{onPress:G.a.dismiss},o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{contentContainerStyle:{paddingTop:15}},y.map((function(e){var t=e.id,a=e.data;return a.email===p.currentUser.email?o.a.createElement(u.a,{key:t,style:Q.receiver},o.a.createElement(K.a,{position:"absolute",bottom:-15,right:-5,rounded:!0,size:30,containerStyle:{position:"absolute",bottom:-15,rigth:-5},source:{uri:a.photoURL}}),o.a.createElement(J.a,{style:Q.receiverText},a.message)):o.a.createElement(u.a,{key:t,style:Q.sender},o.a.createElement(K.a,{position:"absolute",bottom:-15,right:-5,rounded:!0,size:30,containerStyle:{position:"absolute",bottom:-15,right:-5},source:{uri:a.photoURL}}),o.a.createElement(J.a,{style:Q.senderText},a.message),o.a.createElement(J.a,{style:Q.senderName},a.displayName))}))),o.a.createElement(u.a,{style:Q.footer},o.a.createElement(M.a,{value:c,onChangeText:function(e){return l(e)},placeholder:"Type a Message",style:Q.textInput,onSubmitEditing:v}),o.a.createElement(S.a,{onPress:v,activeOpacity:.5},o.a.createElement(C.a,{name:"send",size:24,color:"#2B58E6"}))))))))},Q=i.a.create({container:{flex:1},footer:{flexDirection:"row",alignItems:"center",width:"100%",padding:15},textInput:{bottom:0,height:40,flex:1,marginRight:15,backgroundColor:"#ECECEC",padding:10,color:"grey",borderRadius:30},receiver:{padding:15,backgroundColor:"#ECECEC",alignSelf:"flex-end",borderRadius:20,marginRight:15,marginBottom:20,maxWidth:"80%",position:"relative"},sender:{padding:15,backgroundColor:"#2B66E6",alignSelf:"flex-start",borderRadius:20,marginRight:15,marginBottom:20,maxWidth:"80%",position:"relative"},senderText:{color:"white",fontWeight:"500",marginLeft:10,marginBottom:15},receiverText:{color:"black",fontWeight:"500",marginLeft:10},senderName:{left:10,paddingRight:10,fontSize:10,color:"white"},image:{flex:1,resizeMode:"cover",justifyContent:"center"}}),Y=a(34),X=function(e){var t=e.navigation;Object(r.useLayoutEffect)((function(){t.setOptions({title:"Profile",headerTitleStyle:{alignSelf:"center"}})}),[t]);var a=g.a.auth().currentUser;return o.a.createElement(L.a,{style:Z.container},o.a.createElement(Y.a,{source:{uri:a.photoURL},style:Z.stretch}),o.a.createElement(u.a,{style:Z.container},o.a.createElement(j.a,null,o.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center",paddingTop:200}},o.a.createElement(u.a,{style:{flex:1,height:1,backgroundColor:"black"}}),o.a.createElement(u.a,null,o.a.createElement(J.a,{style:{width:80,textAlign:"center"}},"User Name")),o.a.createElement(u.a,{style:{flex:1,height:1,backgroundColor:"black"}})),o.a.createElement(u.a,{style:{paddingTop:20,flexDirection:"column"}},o.a.createElement(J.a,{style:{fontSize:30}},a.displayName)),o.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center",paddingTop:10}},o.a.createElement(u.a,{style:{flex:1,height:1,backgroundColor:"black"}}),o.a.createElement(u.a,null,o.a.createElement(J.a,{style:{width:80,textAlign:"center"}},"User Email")),o.a.createElement(u.a,{style:{flex:1,height:1,backgroundColor:"black"}})),o.a.createElement(u.a,{style:{paddingTop:20,flexDirection:"column"}},o.a.createElement(J.a,{style:{fontSize:30}},a.email)),o.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center",paddingTop:40}},o.a.createElement(u.a,{style:{flex:1,height:1,backgroundColor:"black"}}),o.a.createElement(u.a,{style:{flex:1,height:1,backgroundColor:"black"}})),o.a.createElement(f.b,{style:{paddingTop:80},type:"outline",title:"Sign out",onPress:function(){p.signOut().then((function(){t.replace("Login")})),k.a.showWithGravityAndOffset("Logging out",k.a.LONG,k.a.BOTTOM,25,50)}}),o.a.createElement(f.b,{style:{paddingTop:30},type:"outline",title:"Back",onPress:function(){t.replace("Home")}}))))},Z=i.a.create({stretch:{width:400,height:200,position:"absolute",borderColor:"#000000"},container:{flex:1,alignItems:"center",padding:10}}),$=function(){return o.a.createElement(u.a,null,o.a.createElement(J.a,null,"About"))},ee=(i.a.create({}),Object(b.a)()),te={headerStyle:{backgroundColor:"#2C68ED"},headerTitleStyle:{color:"white"},headerTintColor:"white"};function ae(){return o.a.createElement(c.a,{style:ne.container},o.a.createElement(ee.Navigator,{screenOptions:te},o.a.createElement(ee.Screen,{name:"Login",component:E}),o.a.createElement(ee.Screen,{name:"Register",component:T}),o.a.createElement(ee.Screen,{name:"Home",component:N}),o.a.createElement(ee.Screen,{name:"AddChat",component:z}),o.a.createElement(ee.Screen,{name:"Chat",component:q}),o.a.createElement(ee.Screen,{name:"profile",component:X}),o.a.createElement(ee.Screen,{name:"About",component:$})))}var ne=i.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},264:function(e,t,a){e.exports=a(339)},330:function(e,t,a){"use strict";(function(e){var t=a(19),n=a.n(t),r=a(6),o=a(59),i=e.setTimeout,c=e.clearTimeout;if("android"===r.a.OS){var l={},s=function e(t,a,r,c){var s=r-Date.now();if(s<=1)o.a.runAfterInteractions((function(){l[t]&&(delete l[t],a.apply(void 0,n()(c)))}));else{var u=Math.min(s,6e4);l[t]=i((function(){return e(t,a,r,c)}),u)}};e.setTimeout=function(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];if(6e4<t){var o=Date.now()+t,c="_lt_"+Object.keys(l).length;return s(c,e,o,n),c}return i.apply(void 0,[e,t].concat(n))},e.clearTimeout=function(e){if("string"===typeof e&&e.startsWith("_lt_"))return c(l[e]),void delete l[e];c(e)}}}).call(this,a(50))}},[[264,1,2]]]);
//# sourceMappingURL=app.75c45a5d.chunk.js.map